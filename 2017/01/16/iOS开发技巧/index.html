<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="常用代码块,常用宏,小技巧," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="常用代码块遍历可变数组的同时删除数组元素1234567NSMutableArray *copyArray = [NSMutableArray arrayWithArray:array];   NSString *str1 = @“zhangsan”;  for (AddressPerson *perName in copyArray) &amp;#123;      if ([[perName name]">
<meta property="og:type" content="article">
<meta property="og:title" content="iOS开发技巧(一)">
<meta property="og:url" content="http://yoursite.com/2017/01/16/iOS开发技巧/index.html">
<meta property="og:site_name" content="清风明心">
<meta property="og:description" content="常用代码块遍历可变数组的同时删除数组元素1234567NSMutableArray *copyArray = [NSMutableArray arrayWithArray:array];   NSString *str1 = @“zhangsan”;  for (AddressPerson *perName in copyArray) &amp;#123;      if ([[perName name]">
<meta property="og:updated_time" content="2017-02-15T14:06:29.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="iOS开发技巧(一)">
<meta name="twitter:description" content="常用代码块遍历可变数组的同时删除数组元素1234567NSMutableArray *copyArray = [NSMutableArray arrayWithArray:array];   NSString *str1 = @“zhangsan”;  for (AddressPerson *perName in copyArray) &amp;#123;      if ([[perName name]">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"right","display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 'undefined',
      author: '博主'
    },
    algolia: {
      applicationID: '5BTIUCSDVY',
      apiKey: '1a9aadc2a805dcd3529b21c3d224af27',
      indexName: 'blog_Feyddy',
      hits: {"per_page":10},
      labels: {"input_placeholder":"搜索...","hits_empty":"未发现与 「${query}」相关的内容","hits_stats":"${hits} 条相关条目，使用了 ${time} 毫秒"}
        }
  };
</script>

    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/01/16/iOS开发技巧/"/>





  <title> iOS开发技巧(一) | 清风明心 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '',
      xfbml      : true,
      version    : 'v2.6'
    });
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/zh_Hans/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
</script>











  
  
    
  

  <div class="container one-collumn sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">清风明心</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">天下事有难易乎？为之，则难者亦易矣；不为，则易者亦难矣。</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/16/iOS开发技巧/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Feyddy">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://ww3.sinaimg.cn/large/e3aca1a1jw1fahfwp4p04j207307mwf6.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="清风明心">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="清风明心" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                iOS开发技巧(一)
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-16T22:53:03+08:00">
                2017-01-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Objective-C/" itemprop="url" rel="index">
                    <span itemprop="name">Objective-C</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/01/16/iOS开发技巧/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/01/16/iOS开发技巧/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2017/01/16/iOS开发技巧/" class="leancloud_visitors" data-flag-title="iOS开发技巧(一)">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="常用代码块"><a href="#常用代码块" class="headerlink" title="常用代码块"></a>常用代码块</h2><h4 id="遍历可变数组的同时删除数组元素"><a href="#遍历可变数组的同时删除数组元素" class="headerlink" title="遍历可变数组的同时删除数组元素"></a>遍历可变数组的同时删除数组元素</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">NSMutableArray *copyArray = [NSMutableArray arrayWithArray:array];   </div><div class="line">NSString *str1 = @“zhangsan”;  </div><div class="line">for (AddressPerson *perName in copyArray) &#123;  </div><div class="line">    if ([[perName name] isEqualToString:str1]) &#123;  </div><div class="line">        [array removeObject:perName];  </div><div class="line">   &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<a id="more"></a>
<h4 id="获取系统当前语言"><a href="#获取系统当前语言" class="headerlink" title="获取系统当前语言"></a><strong>获取系统当前语言</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">NSString *currentLanguage = [[NSLocale preferredLanguages] objectAtIndex:0];</div><div class="line">NSLog(@&quot;currentlanguage = %@&quot;,currentLanguage);</div><div class="line"></div><div class="line">if ([currentLanguage containsString:@&quot;zh-Hans&quot;]) &#123;</div><div class="line">    NSLog(@&quot;zh-Hans简体中文&quot;);</div><div class="line">&#125;else if ([currentLanguage containsString:@&quot;zh-Hant&quot;]) &#123;</div><div class="line">    NSLog(@&quot;zh-Hant繁体中文&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 当前所在地信息</div><div class="line">NSString *identifier = [[NSLocalecurrentLocale] localeIdentifier];</div><div class="line">NSString *displayName = [[NSLocale currentLocale] displayNameForKey:NSLocaleIdentifiervalue:identifier];</div><div class="line">NSLog(@&apos;%@&apos;, displayName);</div><div class="line">// 当前所在地的使用语言</div><div class="line">NSLocale *currentLocale = [NSLocale currentLocale];</div><div class="line">NSLog(@&apos;Language Code is %@&apos;, [currentLocale objectForKey:NSLocaleLanguageCode]);</div><div class="line">// 系统语言</div><div class="line">NSArray *arLanguages = [[NSUserDefaultsstandardUserDefaults] objectForKey:@&apos;AppleLanguages&apos;];</div><div class="line">NSString *strLang = [arLanguages objectAtIndex:0];</div><div class="line">NSLog(@&apos;LANG:%@&apos;,strLang);</div></pre></td></tr></table></figure>
<h4 id="UITableView的Group样式下顶部空白处理"><a href="#UITableView的Group样式下顶部空白处理" class="headerlink" title="UITableView的Group样式下顶部空白处理"></a><strong>UITableView的Group样式下顶部空白处理</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 0, 0.1)];</div><div class="line">self.tableView.tableHeaderView = view;</div></pre></td></tr></table></figure>
<h4 id="UITableView的plain样式下，取消区头停滞效果"><a href="#UITableView的plain样式下，取消区头停滞效果" class="headerlink" title="UITableView的plain样式下，取消区头停滞效果"></a><strong>UITableView的plain样式下，取消区头停滞效果</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">- (void)scrollViewDidScroll:(UIScrollView *)scrollView</div><div class="line">&#123;</div><div class="line">    CGFloat sectionHeaderHeight = sectionHead.height;</div><div class="line">    if (scrollView.contentOffset.y&lt;=sectionHeaderHeight&amp;&amp;scrollView;.contentOffset.y&gt;=0)</div><div class="line">    &#123;</div><div class="line">        scrollView.contentInset = UIEdgeInsetsMake(-scrollView.contentOffset.y, 0, 0, 0);</div><div class="line">    &#125;</div><div class="line">    else if(scrollView.contentOffset.y&gt;=sectionHeaderHeight)</div><div class="line">    &#123;</div><div class="line">        scrollView.contentInset = UIEdgeInsetsMake(-sectionHeaderHeight, 0, 0, 0);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="获取某个view所在的控制器"><a href="#获取某个view所在的控制器" class="headerlink" title="获取某个view所在的控制器"></a><strong>获取某个view所在的控制器</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">- (UIViewController *)viewController</div><div class="line">&#123;</div><div class="line">  UIViewController *viewController = nil;  </div><div class="line">  UIResponder *next = self.nextResponder;</div><div class="line">  while (next)</div><div class="line">  &#123;</div><div class="line">    if ([next isKindOfClass:[UIViewController class]])</div><div class="line">    &#123;</div><div class="line">      viewController = (UIViewController *)next;      </div><div class="line">      break;    </div><div class="line">    &#125;    </div><div class="line">    next = next.nextResponder;  </div><div class="line">  &#125; </div><div class="line">    return viewController;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="两种方法删除NSUserDefaults所有记录"><a href="#两种方法删除NSUserDefaults所有记录" class="headerlink" title="两种方法删除NSUserDefaults所有记录"></a><strong>两种方法删除NSUserDefaults所有记录</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">//方法一</div><div class="line">NSString *appDomain = [[NSBundle mainBundle] bundleIdentifier];</div><div class="line">[[NSUserDefaults standardUserDefaults] removePersistentDomainForName:appDomain];</div><div class="line"></div><div class="line"></div><div class="line">//方法二</div><div class="line">- (void)resetDefaults</div><div class="line">&#123;</div><div class="line">    NSUserDefaults * defs = [NSUserDefaults standardUserDefaults];</div><div class="line">    NSDictionary * dict = [defs dictionaryRepresentation];</div><div class="line">    for (id key in dict)</div><div class="line">    &#123;</div><div class="line">        [defs removeObjectForKey:key];</div><div class="line">    &#125;</div><div class="line">    [defs synchronize];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="打印系统所有已注册的字体名称"><a href="#打印系统所有已注册的字体名称" class="headerlink" title="打印系统所有已注册的字体名称"></a><strong>打印系统所有已注册的字体名称</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">void enumerateFonts()</div><div class="line">&#123;</div><div class="line">    for(NSString *familyName in [UIFont familyNames])</div><div class="line">   &#123;</div><div class="line">        NSLog(@&quot;%@&quot;,familyName);               </div><div class="line">        NSArray *fontNames = [UIFont fontNamesForFamilyName:familyName];       </div><div class="line">        for(NSString *fontName in fontNames)</div><div class="line">       &#123;</div><div class="line">            NSLog(@&quot;\t|- %@&quot;,fontName);</div><div class="line">       &#125;</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="获取图片某一点的颜色"><a href="#获取图片某一点的颜色" class="headerlink" title="获取图片某一点的颜色"></a><strong>获取图片某一点的颜色</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">- (UIColor*) getPixelColorAtLocation:(CGPoint)point inImage:(UIImage *)image</div><div class="line">&#123;</div><div class="line"></div><div class="line">    UIColor* color = nil;</div><div class="line">    CGImageRef inImage = image.CGImage;</div><div class="line">    CGContextRef cgctx = [self createARGBBitmapContextFromImage:inImage];</div><div class="line"></div><div class="line">    if (cgctx == NULL) &#123;</div><div class="line">        return nil; /* error */</div><div class="line">    &#125;</div><div class="line">    size_t w = CGImageGetWidth(inImage);</div><div class="line">    size_t h = CGImageGetHeight(inImage);</div><div class="line">    CGRect rect = &#123;&#123;0,0&#125;,&#123;w,h&#125;&#125;;</div><div class="line"></div><div class="line">    CGContextDrawImage(cgctx, rect, inImage);</div><div class="line">    unsigned char* data = CGBitmapContextGetData (cgctx);</div><div class="line">    if (data != NULL) &#123;</div><div class="line">        int offset = 4*((w*round(point.y))+round(point.x));</div><div class="line">        int alpha =  data[offset];</div><div class="line">        int red = data[offset+1];</div><div class="line">        int green = data[offset+2];</div><div class="line">        int blue = data[offset+3];</div><div class="line">        color = [UIColor colorWithRed:(red/255.0f) green:(green/255.0f) blue:</div><div class="line">                 (blue/255.0f) alpha:(alpha/255.0f)];</div><div class="line">    &#125;</div><div class="line">    CGContextRelease(cgctx);</div><div class="line">    if (data) &#123;</div><div class="line">        free(data);</div><div class="line">    &#125;</div><div class="line">    return color;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="字符串反转"><a href="#字符串反转" class="headerlink" title="字符串反转"></a><strong>字符串反转</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">//第一种：</div><div class="line">- (NSString *)reverseWordsInString:(NSString *)str</div><div class="line">&#123;    </div><div class="line">    NSMutableString *newString = [[NSMutableString alloc] initWithCapacity:str.length];</div><div class="line">    for (NSInteger i = str.length - 1; i &gt;= 0 ; i --)</div><div class="line">    &#123;</div><div class="line">        unichar ch = [str characterAtIndex:i];       </div><div class="line">        [newString appendFormat:@&quot;%c&quot;, ch];    </div><div class="line">    &#125;    </div><div class="line">     return newString;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//第二种：</div><div class="line">- (NSString*)reverseWordsInString:(NSString*)str</div><div class="line">&#123;    </div><div class="line">     NSMutableString *reverString = [NSMutableString stringWithCapacity:str.length];    </div><div class="line">     [str enumerateSubstringsInRange:NSMakeRange(0, str.length) options:NSStringEnumerationReverse | NSStringEnumerationByComposedCharacterSequences  usingBlock:^(NSString *substring, NSRange substringRange, NSRange enclosingRange, BOOL *stop) &#123; </div><div class="line">          [reverString appendString:substring];                         </div><div class="line">      &#125;];    </div><div class="line">     return reverString;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="禁止锁屏"><a href="#禁止锁屏" class="headerlink" title="禁止锁屏"></a><strong>禁止锁屏</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//第一种</div><div class="line">[UIApplication sharedApplication].idleTimerDisabled = YES;</div><div class="line">//第二种</div><div class="line">[[UIApplication sharedApplication] setIdleTimerDisabled:YES];</div></pre></td></tr></table></figure>
<h4 id="模态推出透明界面"><a href="#模态推出透明界面" class="headerlink" title="模态推出透明界面"></a><strong>模态推出透明界面</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">UIViewController *vc = [[UIViewController alloc] init];</div><div class="line">UINavigationController *na = [[UINavigationController alloc] initWithRootViewController:vc];</div><div class="line"></div><div class="line">if ([[[UIDevice currentDevice] systemVersion] floatValue] &gt;= 8.0)</div><div class="line">&#123;</div><div class="line">     na.modalPresentationStyle = UIModalPresentationOverCurrentContext;</div><div class="line">&#125;</div><div class="line">else</div><div class="line">&#123;</div><div class="line">     self.modalPresentationStyle=UIModalPresentationCurrentContext;</div><div class="line">&#125;</div><div class="line"></div><div class="line">[self presentViewController:na animated:YES completion:nil];</div></pre></td></tr></table></figure>
<h4 id="iOS跳转到App-Store下载应用评分"><a href="#iOS跳转到App-Store下载应用评分" class="headerlink" title="iOS跳转到App Store下载应用评分"></a><strong>iOS跳转到App Store下载应用评分</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@&quot;itms-apps://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?type=Purple+Software&amp;id=APPID&quot;]];</div></pre></td></tr></table></figure>
<h4 id="手动更改iOS状态栏的颜色"><a href="#手动更改iOS状态栏的颜色" class="headerlink" title="手动更改iOS状态栏的颜色"></a><strong>手动更改iOS状态栏的颜色</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (void)setStatusBarBackgroundColor:(UIColor *)color</div><div class="line">&#123;</div><div class="line">    UIView *statusBar = [[[UIApplication sharedApplication] valueForKey:@&quot;statusBarWindow&quot;] valueForKey:@&quot;statusBar&quot;];</div><div class="line"></div><div class="line">    if ([statusBar respondsToSelector:@selector(setBackgroundColor:)])</div><div class="line">    &#123;</div><div class="line">        statusBar.backgroundColor = color;    </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="判断当前ViewController是push还是present的方式显示"><a href="#判断当前ViewController是push还是present的方式显示" class="headerlink" title="判断当前ViewController是push还是present的方式显示"></a><strong>判断当前ViewController是push还是present的方式显示</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">NSArray *viewcontrollers=self.navigationController.viewControllers;</div><div class="line"></div><div class="line">if (viewcontrollers.count &gt; 1)</div><div class="line">&#123;</div><div class="line">    if ([viewcontrollers objectAtIndex:viewcontrollers.count - 1] == self)</div><div class="line">    &#123;</div><div class="line">        //push方式</div><div class="line">       [self.navigationController popViewControllerAnimated:YES];</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">else</div><div class="line">&#123;</div><div class="line">    //present方式</div><div class="line">    [self dismissViewControllerAnimated:YES completion:nil];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="获取实际使用的LaunchImage图片"><a href="#获取实际使用的LaunchImage图片" class="headerlink" title="获取实际使用的LaunchImage图片"></a><strong>获取实际使用的LaunchImage图片</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">- (NSString *)getLaunchImageName</div><div class="line">&#123;</div><div class="line">    CGSize viewSize = self.window.bounds.size;</div><div class="line">    // 竖屏    </div><div class="line">    NSString *viewOrientation = @&quot;Portrait&quot;;  </div><div class="line">    NSString *launchImageName = nil;    </div><div class="line">    NSArray* imagesDict = [[[NSBundle mainBundle] infoDictionary] valueForKey:@&quot;UILaunchImages&quot;];</div><div class="line">    for (NSDictionary* dict in imagesDict)</div><div class="line">    &#123;</div><div class="line">        CGSize imageSize = CGSizeFromString(dict[@&quot;UILaunchImageSize&quot;]);</div><div class="line">        if (CGSizeEqualToSize(imageSize, viewSize) &amp;&amp; [viewOrientation isEqualToString:dict[@&quot;UILaunchImageOrientation&quot;]])</div><div class="line">        &#123;</div><div class="line">            launchImageName = dict[@&quot;UILaunchImageName&quot;];        </div><div class="line">        &#125;    </div><div class="line">    &#125;    </div><div class="line">    return launchImageName;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="iOS在当前屏幕获取第一响应"><a href="#iOS在当前屏幕获取第一响应" class="headerlink" title="iOS在当前屏幕获取第一响应"></a><strong>iOS在当前屏幕获取第一响应</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">UIWindow * keyWindow = [[UIApplication sharedApplication] keyWindow];</div><div class="line">UIView * firstResponder = [keyWindow performSelector:@selector(firstResponder)];</div></pre></td></tr></table></figure>
<h4 id="判断对象是否遵循了某协议"><a href="#判断对象是否遵循了某协议" class="headerlink" title="判断对象是否遵循了某协议"></a><strong>判断对象是否遵循了某协议</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">if ([self.selectedController conformsToProtocol:@protocol(RefreshPtotocol)])</div><div class="line">&#123;</div><div class="line">     [self.selectedController performSelector:@selector(onTriggerRefresh)];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="判断view是不是指定视图的子视图"><a href="#判断view是不是指定视图的子视图" class="headerlink" title="判断view是不是指定视图的子视图"></a><strong>判断view是不是指定视图的子视图</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">BOOL isView = [textView isDescendantOfView:self.view];</div></pre></td></tr></table></figure>
<h4 id="NSArray-快速求总和-最大值-最小值-和-平均值"><a href="#NSArray-快速求总和-最大值-最小值-和-平均值" class="headerlink" title="NSArray 快速求总和 最大值 最小值 和 平均值"></a><strong>NSArray 快速求总和 最大值 最小值 和 平均值</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">NSArray *array = [NSArray arrayWithObjects:@&quot;2.0&quot;, @&quot;2.3&quot;, @&quot;3.0&quot;, @&quot;4.0&quot;, @&quot;10&quot;, nil];</div><div class="line">CGFloat sum = [[array valueForKeyPath:@&quot;@sum.floatValue&quot;] floatValue];</div><div class="line">CGFloat avg = [[array valueForKeyPath:@&quot;@avg.floatValue&quot;] floatValue];</div><div class="line">CGFloat max =[[array valueForKeyPath:@&quot;@max.floatValue&quot;] floatValue];</div><div class="line">CGFloat min =[[array valueForKeyPath:@&quot;@min.floatValue&quot;] floatValue];</div><div class="line">NSLog(@&quot;%f\n%f\n%f\n%f&quot;,sum,avg,max,min);</div></pre></td></tr></table></figure>
<h4 id="修改UITextField中Placeholder的文字颜色"><a href="#修改UITextField中Placeholder的文字颜色" class="headerlink" title="修改UITextField中Placeholder的文字颜色"></a><strong>修改UITextField中Placeholder的文字颜色</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[textField setValue:[UIColor redColor] forKeyPath:@&quot;_placeholderLabel.textColor&quot;];</div></pre></td></tr></table></figure>
<h4 id="获取一个类的所有子类"><a href="#获取一个类的所有子类" class="headerlink" title="获取一个类的所有子类"></a><strong>获取一个类的所有子类</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">+ (NSArray *) allSubclasses</div><div class="line">&#123;</div><div class="line">    Class myClass = [self class];</div><div class="line">    NSMutableArray *mySubclasses = [NSMutableArray array];</div><div class="line">    unsigned int numOfClasses;</div><div class="line">    Class *classes = objc_copyClassList(&amp;numOfClasses;);</div><div class="line">    for (unsigned int ci = 0; ci &lt; numOfClasses; ci++)</div><div class="line">    &#123;</div><div class="line">        Class superClass = classes[ci];</div><div class="line">        do&#123;</div><div class="line">            superClass = class_getSuperclass(superClass);</div><div class="line">        &#125; while (superClass &amp;&amp; superClass != myClass);</div><div class="line"></div><div class="line">        if (superClass)</div><div class="line">        &#123;</div><div class="line">            [mySubclasses addObject: classes[ci]];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    free(classes);</div><div class="line">    return mySubclasses;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="阿拉伯数字转中文格式"><a href="#阿拉伯数字转中文格式" class="headerlink" title="阿拉伯数字转中文格式"></a><strong>阿拉伯数字转中文格式</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">+(NSString *)translation:(NSString *)arebic</div><div class="line">&#123;  </div><div class="line">    NSString *str = arebic;</div><div class="line">    NSArray *arabic_numerals = @[@&quot;1&quot;,@&quot;2&quot;,@&quot;3&quot;,@&quot;4&quot;,@&quot;5&quot;,@&quot;6&quot;,@&quot;7&quot;,@&quot;8&quot;,@&quot;9&quot;,@&quot;0&quot;];</div><div class="line">    NSArray *chinese_numerals = @[@&quot;一&quot;,@&quot;二&quot;,@&quot;三&quot;,@&quot;四&quot;,@&quot;五&quot;,@&quot;六&quot;,@&quot;七&quot;,@&quot;八&quot;,@&quot;九&quot;,@&quot;零&quot;];</div><div class="line">    NSArray *digits = @[@&quot;个&quot;,@&quot;十&quot;,@&quot;百&quot;,@&quot;千&quot;,@&quot;万&quot;,@&quot;十&quot;,@&quot;百&quot;,@&quot;千&quot;,@&quot;亿&quot;,@&quot;十&quot;,@&quot;百&quot;,@&quot;千&quot;,@&quot;兆&quot;];</div><div class="line">    NSDictionary *dictionary = [NSDictionary dictionaryWithObjects:chinese_numerals forKeys:arabic_numerals];</div><div class="line"></div><div class="line">    NSMutableArray *sums = [NSMutableArray array];</div><div class="line">    for (int i = 0; i &lt; str.length; i ++) &#123;</div><div class="line">        NSString *substr = [str substringWithRange:NSMakeRange(i, 1)];</div><div class="line">        NSString *a = [dictionary objectForKey:substr];</div><div class="line">        NSString *b = digits[str.length -i-1];</div><div class="line">        NSString *sum = [a stringByAppendingString:b];</div><div class="line">        if ([a isEqualToString:chinese_numerals[9]])</div><div class="line">        &#123;</div><div class="line">            if([b isEqualToString:digits[4]] || [b isEqualToString:digits[8]])</div><div class="line">            &#123;</div><div class="line">                sum = b;</div><div class="line">                if ([[sums lastObject] isEqualToString:chinese_numerals[9]])</div><div class="line">                &#123;</div><div class="line">                    [sums removeLastObject];</div><div class="line">                &#125;</div><div class="line">            &#125;else</div><div class="line">            &#123;</div><div class="line">                sum = chinese_numerals[9];</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            if ([[sums lastObject] isEqualToString:sum])</div><div class="line">            &#123;</div><div class="line">                continue;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        [sums addObject:sum];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    NSString *sumStr = [sums componentsJoinedByString:@&quot;&quot;];</div><div class="line">    NSString *chinese = [sumStr substringToIndex:sumStr.length-1];</div><div class="line">    NSLog(@&quot;%@&quot;,str);</div><div class="line">    NSLog(@&quot;%@&quot;,chinese);</div><div class="line">    return chinese;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="取消UICollectionView的隐式动画"><a href="#取消UICollectionView的隐式动画" class="headerlink" title="取消UICollectionView的隐式动画"></a><strong>取消UICollectionView的隐式动画</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">//方法一</div><div class="line">[UIView performWithoutAnimation:^&#123;</div><div class="line">    [collectionView reloadItemsAtIndexPaths:@[[NSIndexPath indexPathForItem:index inSection:0]]];</div><div class="line">&#125;];</div><div class="line"></div><div class="line">//方法二</div><div class="line">[UIView animateWithDuration:0 animations:^&#123;</div><div class="line">    [collectionView performBatchUpdates:^&#123;</div><div class="line">        [collectionView reloadItemsAtIndexPaths:@[[NSIndexPath indexPathForItem:index inSection:0]]];</div><div class="line">    &#125; completion:nil];</div><div class="line">&#125;];</div><div class="line"></div><div class="line">//方法三</div><div class="line">[UIView setAnimationsEnabled:NO];</div><div class="line">[self.trackPanel performBatchUpdates:^&#123;</div><div class="line">    [collectionView reloadItemsAtIndexPaths:@[[NSIndexPath indexPathForItem:index inSection:0]]];</div><div class="line">&#125; completion:^(BOOL finished) &#123;</div><div class="line">    [UIView setAnimationsEnabled:YES];</div><div class="line">&#125;];</div></pre></td></tr></table></figure>
<h4 id="判断邮箱格式是否正确的代码"><a href="#判断邮箱格式是否正确的代码" class="headerlink" title="判断邮箱格式是否正确的代码"></a><strong>判断邮箱格式是否正确的代码</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">-(BOOL)isValidateEmail:(NSString *)email</div><div class="line"></div><div class="line">　　&#123;</div><div class="line"></div><div class="line">　　NSString *emailRegex = @&quot;[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]&#123;2,4&#125;&quot;;</div><div class="line"></div><div class="line">　　NSPredicate *emailTest = [NSPredicate predicateWithFormat:@&quot;SELF MATCHES%@&quot;,emailRegex];</div><div class="line"></div><div class="line">　　return [emailTest evaluateWithObject:email];</div><div class="line"></div><div class="line">　　&#125;</div></pre></td></tr></table></figure>
<h4 id="iOS中UITextField的字数限制"><a href="#iOS中UITextField的字数限制" class="headerlink" title="iOS中UITextField的字数限制"></a><strong>iOS中UITextField的字数限制</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">//在viewDidLoad中注册&lt;UITextFieldTextDidChangeNotification&gt;通知</div><div class="line">[[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(textFiledEditChanged:) </div><div class="line">          name:@&quot;UITextFieldTextDidChangeNotification&quot; object:myTextField];</div><div class="line">//实现监听方法</div><div class="line">#pragma mark - Notification Method</div><div class="line">-(void)textFieldEditChanged:(NSNotification *)obj</div><div class="line">&#123;</div><div class="line">    UITextField *textField = (UITextField *)obj.object;</div><div class="line">    NSString *toBeString = textField.text;</div><div class="line"></div><div class="line">    //获取高亮部分</div><div class="line">    UITextRange *selectedRange = [textField markedTextRange];</div><div class="line">    UITextPosition *position = [textField positionFromPosition:selectedRange.start offset:0];</div><div class="line"></div><div class="line">    // 没有高亮选择的字，则对已输入的文字进行字数统计和限制</div><div class="line">    if (!position)</div><div class="line">    &#123;</div><div class="line">        if (toBeString.length &gt; MAX_STARWORDS_LENGTH)</div><div class="line">        &#123;</div><div class="line">            NSRange rangeIndex = [toBeString rangeOfComposedCharacterSequenceAtIndex:MAX_STARWORDS_LENGTH];</div><div class="line">            if (rangeIndex.length == 1)</div><div class="line">            &#123;</div><div class="line">                textField.text = [toBeString substringToIndex:MAX_STARWORDS_LENGTH];</div><div class="line">            &#125;</div><div class="line">            else</div><div class="line">            &#123;</div><div class="line">                NSRange rangeRange = [toBeString rangeOfComposedCharacterSequencesForRange:NSMakeRange(0, MAX_STARWORDS_LENGTH)];</div><div class="line">                textField.text = [toBeString substringWithRange:rangeRange];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="GCD定时器"><a href="#GCD定时器" class="headerlink" title="GCD定时器"></a><strong>GCD定时器</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);</div><div class="line">dispatch_source_t timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, 0, 0,queue);</div><div class="line">dispatch_source_set_timer(timer,dispatch_walltime(NULL, 0),1.0*NSEC_PER_SEC, 0); //每秒执行</div><div class="line">dispatch_source_set_event_handler(timer, ^&#123;</div><div class="line">    //倒计时结束，关闭</div><div class="line">    dispatch_source_cancel(timer); </div><div class="line">    dispatch_async(dispatch_get_main_queue(), ^&#123;</div><div class="line"></div><div class="line">    &#125;);</div><div class="line">&#125;);</div><div class="line">dispatch_resume(timer);</div></pre></td></tr></table></figure>
<h4 id="图片上绘制文字"><a href="#图片上绘制文字" class="headerlink" title="图片上绘制文字"></a><strong>图片上绘制文字</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">- (UIImage *)imageWithTitle:(NSString *)title fontSize:(CGFloat)fontSize</div><div class="line">&#123;</div><div class="line">    //画布大小</div><div class="line">    CGSize size=CGSizeMake(self.size.width,self.size.height);</div><div class="line">    //创建一个基于位图的上下文</div><div class="line">    UIGraphicsBeginImageContextWithOptions(size,NO,0.0);//opaque:NO  scale:0.0</div><div class="line"></div><div class="line">    [self drawAtPoint:CGPointMake(0.0,0.0)];</div><div class="line"></div><div class="line">    //文字居中显示在画布上</div><div class="line">    NSMutableParagraphStyle* paragraphStyle = [[NSParagraphStyle defaultParagraphStyle] mutableCopy];</div><div class="line">    paragraphStyle.lineBreakMode = NSLineBreakByCharWrapping;</div><div class="line"></div><div class="line">    paragraphStyle.alignment=NSTextAlignmentCenter;//文字居中</div><div class="line"></div><div class="line">    //计算文字所占的size,文字居中显示在画布上</div><div class="line">    CGSize sizeText=[title boundingRectWithSize:self.size options:NSStringDrawingUsesLineFragmentOrigin</div><div class="line">                                     attributes:@&#123;NSFontAttributeName:[UIFont systemFontOfSize:fontSize]&#125;context:nil].size;</div><div class="line">    CGFloat width = self.size.width;</div><div class="line">    CGFloat height = self.size.height;</div><div class="line"></div><div class="line">    CGRect rect = CGRectMake((width-sizeText.width)/2, (height-sizeText.height)/2, sizeText.width, sizeText.height);</div><div class="line">    //绘制文字</div><div class="line">    [title drawInRect:rect withAttributes:@&#123; NSFontAttributeName:[UIFont systemFontOfSize:fontSize],NSForegroundColorAttributeName:[ UIColor whiteColor],NSParagraphStyleAttributeName:paragraphStyle&#125;];</div><div class="line"></div><div class="line">    //返回绘制的新图形</div><div class="line">    UIImage *newImage= UIGraphicsGetImageFromCurrentImageContext();</div><div class="line">    UIGraphicsEndImageContext();</div><div class="line">    return newImage;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="查找一个视图的所有子视图"><a href="#查找一个视图的所有子视图" class="headerlink" title="查找一个视图的所有子视图"></a><strong>查找一个视图的所有子视图</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">- (NSMutableArray *)allSubViewsForView:(UIView *)view</div><div class="line">&#123;</div><div class="line">    NSMutableArray *array = [NSMutableArray arrayWithCapacity:0];</div><div class="line">    for (UIView *subView in view.subviews)</div><div class="line">    &#123;</div><div class="line">        [array addObject:subView];</div><div class="line">        if (subView.subviews.count &gt; 0)</div><div class="line">        &#123;</div><div class="line">            [array addObjectsFromArray:[self allSubViewsForView:subView]];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return array;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="计算文件大小"><a href="#计算文件大小" class="headerlink" title="计算文件大小"></a><strong>计算文件大小</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">//文件大小</div><div class="line">- (long long)fileSizeAtPath:(NSString *)path</div><div class="line">&#123;</div><div class="line">    NSFileManager *fileManager = [NSFileManager defaultManager];</div><div class="line"></div><div class="line">    if ([fileManager fileExistsAtPath:path])</div><div class="line">    &#123;</div><div class="line">        long long size = [fileManager attributesOfItemAtPath:path error:nil].fileSize;</div><div class="line">        return size;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    return 0;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//文件夹大小</div><div class="line">- (long long)folderSizeAtPath:(NSString *)path</div><div class="line">&#123;</div><div class="line">    NSFileManager *fileManager = [NSFileManager defaultManager];</div><div class="line"></div><div class="line">    long long folderSize = 0;</div><div class="line"></div><div class="line">    if ([fileManager fileExistsAtPath:path])</div><div class="line">    &#123;</div><div class="line">        NSArray *childerFiles = [fileManager subpathsAtPath:path];</div><div class="line">        for (NSString *fileName in childerFiles)</div><div class="line">        &#123;</div><div class="line">            NSString *fileAbsolutePath = [path stringByAppendingPathComponent:fileName];</div><div class="line">            if ([fileManager fileExistsAtPath:fileAbsolutePath])</div><div class="line">            &#123;</div><div class="line">                long long size = [fileManager attributesOfItemAtPath:fileAbsolutePath error:nil].fileSize;</div><div class="line">                folderSize += size;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    return folderSize;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="UIView的设置部分圆角"><a href="#UIView的设置部分圆角" class="headerlink" title="UIView的设置部分圆角"></a><strong>UIView的设置部分圆角</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">CGRect rect = view.bounds;</div><div class="line">CGSize radio = CGSizeMake(30, 30);//圆角尺寸</div><div class="line">UIRectCorner corner = UIRectCornerTopLeft|UIRectCornerTopRight;//这只圆角位置</div><div class="line">UIBezierPath *path = [UIBezierPath bezierPathWithRoundedRect:rect byRoundingCorners:corner cornerRadii:radio];</div><div class="line">CAShapeLayer *masklayer = [[CAShapeLayer alloc]init];//创建shapelayer</div><div class="line">masklayer.frame = view.bounds;</div><div class="line">masklayer.path = path.CGPath;//设置路径</div><div class="line">view.layer.mask = masklayer;</div></pre></td></tr></table></figure>
<h4 id="计算字符串字符长度，一个汉字算两个字符"><a href="#计算字符串字符长度，一个汉字算两个字符" class="headerlink" title="计算字符串字符长度，一个汉字算两个字符"></a><strong>计算字符串字符长度，一个汉字算两个字符</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">//方法一：</div><div class="line">- (int)convertToInt:(NSString*)strtemp</div><div class="line">&#123;</div><div class="line">    int strlength = 0;</div><div class="line">    char* p = (char*)[strtemp cStringUsingEncoding:NSUnicodeStringEncoding];</div><div class="line">    for (int i=0 ; i&lt;[strtemp lengthOfBytesUsingEncoding:NSUnicodeStringEncoding] ;i++)</div><div class="line">    &#123;</div><div class="line">        if (*p)</div><div class="line">        &#123;</div><div class="line">            p++;</div><div class="line">            strlength++;</div><div class="line">        &#125;</div><div class="line">        else</div><div class="line">        &#123;</div><div class="line">            p++;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    return strlength;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//方法二：</div><div class="line">-(NSUInteger) unicodeLengthOfString: (NSString *) text</div><div class="line">&#123;</div><div class="line">    NSUInteger asciiLength = 0;</div><div class="line">    for (NSUInteger i = 0; i &lt; text.length; i++)</div><div class="line">    &#123;</div><div class="line">        unichar uc = [text characterAtIndex: i];</div><div class="line">        asciiLength += isascii(uc) ? 1 : 2;</div><div class="line">    &#125;</div><div class="line">    return asciiLength;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="防止滚动视图手势覆盖侧滑手势"><a href="#防止滚动视图手势覆盖侧滑手势" class="headerlink" title="防止滚动视图手势覆盖侧滑手势"></a><strong>防止滚动视图手势覆盖侧滑手势</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[scrollView.panGestureRecognizer requireGestureRecognizerToFail:self.navigationController.interactivePopGestureRecognizer];</div></pre></td></tr></table></figure>
<h4 id="去掉导航栏返回的标题"><a href="#去掉导航栏返回的标题" class="headerlink" title="去掉导航栏返回的标题"></a><strong>去掉导航栏返回的标题</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[[UIBarButtonItem appearance]setBackButtonTitlePositionAdjustment:UIOffsetMake(0, -60)forBarMetrics:UIBarMetricsDefault];</div></pre></td></tr></table></figure>
<h4 id="字符串中是否含有中文"><a href="#字符串中是否含有中文" class="headerlink" title="字符串中是否含有中文"></a><strong>字符串中是否含有中文</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">+ (BOOL)checkIsChinese:(NSString *)string</div><div class="line">&#123;</div><div class="line">    for (int i=0; i&lt;string.length; i++)</div><div class="line">    &#123;</div><div class="line">        unichar ch = [string characterAtIndex:i];</div><div class="line">        if (0x4E00 &lt;= ch  &amp;&amp; ch &lt;= 0x9FA5)</div><div class="line">        &#123;</div><div class="line">            return YES;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return NO;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="dispatch-group的使用"><a href="#dispatch-group的使用" class="headerlink" title="dispatch_group的使用"></a><strong>dispatch_group的使用</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">dispatch_group_t dispatchGroup = dispatch_group_create();</div><div class="line">    dispatch_group_enter(dispatchGroup);</div><div class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(1 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</div><div class="line">        NSLog(@&quot;第一个请求完成&quot;);</div><div class="line">        dispatch_group_leave(dispatchGroup);</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    dispatch_group_enter(dispatchGroup);</div><div class="line"></div><div class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(10 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</div><div class="line">        NSLog(@&quot;第二个请求完成&quot;);</div><div class="line">        dispatch_group_leave(dispatchGroup);</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    dispatch_group_notify(dispatchGroup, dispatch_get_main_queue(), ^()&#123;</div><div class="line">        NSLog(@&quot;请求完成&quot;);</div><div class="line">    &#125;);</div></pre></td></tr></table></figure>
<h4 id="UITextField每四位加一个空格，实现代理"><a href="#UITextField每四位加一个空格，实现代理" class="headerlink" title="UITextField每四位加一个空格，实现代理"></a><strong>UITextField每四位加一个空格，实现代理</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string</div><div class="line">&#123;</div><div class="line">    // 四位加一个空格</div><div class="line">    if ([string isEqualToString:@&quot;&quot;])</div><div class="line">    &#123;</div><div class="line">        // 删除字符</div><div class="line">        if ((textField.text.length - 2) % 5 == 0)</div><div class="line">        &#123;</div><div class="line">            textField.text = [textField.text substringToIndex:textField.text.length - 1];</div><div class="line">        &#125;</div><div class="line">        return YES;</div><div class="line">    &#125;</div><div class="line">    else</div><div class="line">    &#123;</div><div class="line">        if (textField.text.length % 5 == 0)</div><div class="line">        &#123;</div><div class="line">            textField.text = [NSString stringWithFormat:@&quot;%@ &quot;, textField.text];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return YES;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="获取手机安装的应用"><a href="#获取手机安装的应用" class="headerlink" title="获取手机安装的应用"></a><strong>获取手机安装的应用</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Class c =NSClassFromString(@&quot;LSApplicationWorkspace&quot;);</div><div class="line">id s = [(id)c performSelector:NSSelectorFromString(@&quot;defaultWorkspace&quot;)];</div><div class="line">NSArray *array = [s performSelector:NSSelectorFromString(@&quot;allInstalledApplications&quot;)];</div><div class="line">for (id item in array)</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;%@&quot;,[item performSelector:NSSelectorFromString(@&quot;applicationIdentifier&quot;)]);</div><div class="line">    NSLog(@&quot;%@&quot;,[item performSelector:NSSelectorFromString(@&quot;bundleVersion&quot;)]);</div><div class="line">    NSLog(@&quot;%@&quot;,[item performSelector:NSSelectorFromString(@&quot;shortVersionString&quot;)]);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="应用内打开系统设置界面"><a href="#应用内打开系统设置界面" class="headerlink" title="应用内打开系统设置界面"></a><strong>应用内打开系统设置界面</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">//iOS8之后</div><div class="line">[[UIApplication sharedApplication] openURL:[NSURL URLWithString:UIApplicationOpenSettingsURLString]];</div><div class="line">//如果App没有添加权限，显示的是设定界面。如果App有添加权限（例如通知），显示的是App的设定界面。</div><div class="line"></div><div class="line">//iOS8之前</div><div class="line">//先添加一个url type，在代码中调用如下代码,即可跳转到设置页面的对应项</div><div class="line">[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@&quot;prefs:root=WIFI&quot;]];</div><div class="line"></div><div class="line">/*</div><div class="line">可选值如下：</div><div class="line">About — prefs:root=General&amp;path=About</div><div class="line">Accessibility — prefs:root=General&amp;path=ACCESSIBILITY</div><div class="line">Airplane Mode On — prefs:root=AIRPLANE_MODE</div><div class="line">Auto-Lock — prefs:root=General&amp;path=AUTOLOCK</div><div class="line">Brightness — prefs:root=Brightness</div><div class="line">Bluetooth — prefs:root=General&amp;path=Bluetooth</div><div class="line">Date &amp; Time — prefs:root=General&amp;path=DATE_AND_TIME</div><div class="line">FaceTime — prefs:root=FACETIME</div><div class="line">General — prefs:root=General</div><div class="line">Keyboard — prefs:root=General&amp;path=Keyboard</div><div class="line">iCloud — prefs:root=CASTLE</div><div class="line">iCloud Storage &amp; Backup — prefs:root=CASTLE&amp;path=STORAGE_AND_BACKUP</div><div class="line">International — prefs:root=General&amp;path=INTERNATIONAL</div><div class="line">Location Services — prefs:root=LOCATION_SERVICES</div><div class="line">Music — prefs:root=MUSIC</div><div class="line">Music Equalizer — prefs:root=MUSIC&amp;path=EQ</div><div class="line">Music Volume Limit — prefs:root=MUSIC&amp;path=VolumeLimit</div><div class="line">Network — prefs:root=General&amp;path=Network</div><div class="line">Nike + iPod — prefs:root=NIKE_PLUS_IPOD</div><div class="line">Notes — prefs:root=NOTES</div><div class="line">Notification — prefs:root=NOTIFICATI*****_ID</div><div class="line">Phone — prefs:root=Phone</div><div class="line">Photos — prefs:root=Photos</div><div class="line">Profile — prefs:root=General&amp;path=ManagedConfigurationList</div><div class="line">Reset — prefs:root=General&amp;path=Reset</div><div class="line">Safari — prefs:root=Safari</div><div class="line">Siri — prefs:root=General&amp;path=Assistant</div><div class="line">Sounds — prefs:root=Sounds</div><div class="line">Software Update — prefs:root=General&amp;path=SOFTWARE_UPDATE_LINK</div><div class="line">Store — prefs:root=STORE</div><div class="line">Twitter — prefs:root=TWITTER</div><div class="line">Usage — prefs:root=General&amp;path=USAGE</div><div class="line">VPN — prefs:root=General&amp;path=Network/VPN</div><div class="line">Wallpaper — prefs:root=Wallpaper</div><div class="line">Wi-Fi — prefs:root=WIFI</div><div class="line">  */</div></pre></td></tr></table></figure>
<h4 id="动画暂停再开始"><a href="#动画暂停再开始" class="headerlink" title="动画暂停再开始"></a><strong>动画暂停再开始</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">-(void)pauseLayer:(CALayer *)layer</div><div class="line">&#123;</div><div class="line">    CFTimeInterval pausedTime = [layer convertTime:CACurrentMediaTime() fromLayer:nil];</div><div class="line">    layer.speed = 0.0;</div><div class="line">    layer.timeOffset = pausedTime;</div><div class="line">&#125;</div><div class="line"></div><div class="line">-(void)resumeLayer:(CALayer *)layer</div><div class="line">&#123;</div><div class="line">    CFTimeInterval pausedTime = [layer timeOffset];</div><div class="line">    layer.speed = 1.0;</div><div class="line">    layer.timeOffset = 0.0;</div><div class="line">    layer.beginTime = 0.0;</div><div class="line">    CFTimeInterval timeSincePause = [layer convertTime:CACurrentMediaTime() fromLayer:nil] - pausedTime;</div><div class="line">    layer.beginTime = timeSincePause;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="iOS版中数字的格式化"><a href="#iOS版中数字的格式化" class="headerlink" title="iOS版中数字的格式化"></a><strong>iOS版中数字的格式化</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">//通过NSNumberFormatter，同样可以设置NSNumber输出的格式。例如如下代码：</div><div class="line">NSNumberFormatter *formatter = [[NSNumberFormatter alloc] init];</div><div class="line">formatter.numberStyle = NSNumberFormatterDecimalStyle;</div><div class="line">NSString *string = [formatter stringFromNumber:[NSNumber numberWithInt:123456789]];</div><div class="line">NSLog(@&quot;Formatted number string:%@&quot;,string);</div><div class="line">//输出结果为：[1223:403] Formatted number string:123,456,789</div><div class="line"></div><div class="line">//其中NSNumberFormatter类有个属性numberStyle，它是一个枚举型，设置不同的值可以输出不同的数字格式。该枚举包括：</div><div class="line">typedef NS_ENUM(NSUInteger, NSNumberFormatterStyle) &#123;</div><div class="line">    NSNumberFormatterNoStyle = kCFNumberFormatterNoStyle,</div><div class="line">    NSNumberFormatterDecimalStyle = kCFNumberFormatterDecimalStyle,</div><div class="line">    NSNumberFormatterCurrencyStyle = kCFNumberFormatterCurrencyStyle,</div><div class="line">    NSNumberFormatterPercentStyle = kCFNumberFormatterPercentStyle,</div><div class="line">    NSNumberFormatterScientificStyle = kCFNumberFormatterScientificStyle,</div><div class="line">    NSNumberFormatterSpellOutStyle = kCFNumberFormatterSpellOutStyle</div><div class="line">&#125;;</div><div class="line">//各个枚举对应输出数字格式的效果如下：其中第三项和最后一项的输出会根据系统设置的语言区域的不同而不同。</div><div class="line">[1243:403] Formatted number string:123456789</div><div class="line">[1243:403] Formatted number string:123,456,789</div><div class="line">[1243:403] Formatted number string:￥123,456,789.00</div><div class="line">[1243:403] Formatted number string:-539,222,988%</div><div class="line">[1243:403] Formatted number string:1.23456789E8</div><div class="line">[1243:403] Formatted number string:一亿二千三百四十五万六千七百八十九</div></pre></td></tr></table></figure>
<h4 id="如何获取的WebView所有的图片地址"><a href="#如何获取的WebView所有的图片地址" class="headerlink" title="如何获取的WebView所有的图片地址"></a><strong>如何获取的WebView所有的图片地址</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">//UIWebView</div><div class="line">- (void)webViewDidFinishLoad:(UIWebView *)webView</div><div class="line">&#123;</div><div class="line">    //这里是js，主要目的实现对url的获取</div><div class="line">    static  NSString * const jsGetImages =</div><div class="line">    @&quot;function getImages()&#123;\</div><div class="line">    var objs = document.getElementsByTagName(\&quot;img\&quot;);\</div><div class="line">    var imgScr = &apos;&apos;;\</div><div class="line">    for(var i=0;i&lt;objs.length;i++)&#123;\</div><div class="line">    imgScr = imgScr + objs[i].src + &apos;+&apos;;\</div><div class="line">    &#125;;\</div><div class="line">    return imgScr;\</div><div class="line">    &#125;;&quot;;</div><div class="line"></div><div class="line">    [webView stringByEvaluatingJavaScriptFromString:jsGetImages];//注入js方法</div><div class="line">    NSString *urlResult = [webView stringByEvaluatingJavaScriptFromString:@&quot;getImages()&quot;];</div><div class="line">    NSArray *urlArray = [NSMutableArray arrayWithArray:[urlResult componentsSeparatedByString:@&quot;+&quot;]];</div><div class="line">    //urlResurlt 就是获取到得所有图片的url的拼接；mUrlArray就是所有Url的数组</div><div class="line">&#125;</div><div class="line"></div><div class="line">//WKWebView</div><div class="line">- (void)webView:(WKWebView *)webView didFinishNavigation:(null_unspecified WKNavigation *)navigation</div><div class="line">&#123;</div><div class="line">    static  NSString * const jsGetImages =</div><div class="line">    @&quot;function getImages()&#123;\</div><div class="line">    var objs = document.getElementsByTagName(\&quot;img\&quot;);\</div><div class="line">    var imgScr = &apos;&apos;;\</div><div class="line">    for(var i=0;i&lt;objs.length;i++)&#123;\</div><div class="line">    imgScr = imgScr + objs[i].src + &apos;+&apos;;\</div><div class="line">    &#125;;\</div><div class="line">    return imgScr;\</div><div class="line">    &#125;;&quot;;</div><div class="line"></div><div class="line">    [webView evaluateJavaScript:jsGetImages completionHandler:nil];</div><div class="line">    [webView evaluateJavaScript:@&quot;getImages()&quot; completionHandler:^(id _Nullable result, NSError * _Nullable error) &#123;</div><div class="line">        NSLog(@&quot;%@&quot;,result);</div><div class="line">    &#125;];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="获取到的WebView的高度"><a href="#获取到的WebView的高度" class="headerlink" title="获取到的WebView的高度"></a><strong>获取到的WebView的高度</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CGFloat height = [[self.webView stringByEvaluatingJavaScriptFromString:@&quot;document.body.offsetHeight&quot;] floatValue];</div></pre></td></tr></table></figure>
<h4 id="导航栏变为纯透明"><a href="#导航栏变为纯透明" class="headerlink" title="导航栏变为纯透明"></a><strong>导航栏变为纯透明</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//第一种方法</div><div class="line">//导航栏纯透明</div><div class="line">[self.navigationBar setBackgroundImage:[UIImage new] forBarMetrics:UIBarMetricsDefault];</div><div class="line">//去掉导航栏底部的黑线</div><div class="line">self.navigationBar.shadowImage = [UIImage new];</div><div class="line"></div><div class="line">//第二种方法</div><div class="line">[[self.navigationBar subviews] objectAtIndex:0].alpha = 0;</div></pre></td></tr></table></figure>
<h4 id="tabBar变为纯透明"><a href="#tabBar变为纯透明" class="headerlink" title="tabBar变为纯透明"></a><strong>tabBar变为纯透明</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[self.tabBar setBackgroundImage:[UIImage new]];</div><div class="line">self.tabBar.shadowImage = [UIImage new];</div></pre></td></tr></table></figure>
<h4 id="navigationBar根据滑动距离的渐变色实现"><a href="#navigationBar根据滑动距离的渐变色实现" class="headerlink" title="navigationBar根据滑动距离的渐变色实现"></a><strong>navigationBar根据滑动距离的渐变色实现</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">//第一种</div><div class="line">- (void)scrollViewDidScroll:(UIScrollView *)scrollView</div><div class="line">&#123;</div><div class="line">    CGFloat offsetToShow = 200.0;//滑动多少就完全显示</div><div class="line">    CGFloat alpha = 1 - (offsetToShow - scrollView.contentOffset.y) / offsetToShow;</div><div class="line">    [[self.navigationController.navigationBar subviews] objectAtIndex:0].alpha = alpha;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//第二种</div><div class="line">- (void)scrollViewDidScroll:(UIScrollView *)scrollView</div><div class="line">&#123;</div><div class="line">    CGFloat offsetToShow = 200.0;</div><div class="line">    CGFloat alpha = 1 - (offsetToShow - scrollView.contentOffset.y) / offsetToShow;</div><div class="line"></div><div class="line">    [self.navigationController.navigationBar setShadowImage:[UIImage new]];</div><div class="line">    [self.navigationController.navigationBar setBackgroundImage:[self imageWithColor:[[UIColor orangeColor]colorWithAlphaComponent:alpha]] forBarMetrics:UIBarMetricsDefault];</div><div class="line">&#125;</div><div class="line"></div><div class="line">//生成一张纯色的图片</div><div class="line">- (UIImage *)imageWithColor:(UIColor *)color</div><div class="line">&#123;</div><div class="line">    CGRect rect = CGRectMake(0.0f, 0.0f, 1.0f, 1.0f);</div><div class="line">    UIGraphicsBeginImageContext(rect.size);</div><div class="line">    CGContextRef context = UIGraphicsGetCurrentContext();</div><div class="line">    CGContextSetFillColorWithColor(context, [color CGColor]);</div><div class="line">    CGContextFillRect(context, rect);</div><div class="line">    UIImage *theImage = UIGraphicsGetImageFromCurrentImageContext();</div><div class="line">    UIGraphicsEndImageContext();</div><div class="line"></div><div class="line">    return theImage;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="常用宏"><a href="#常用宏" class="headerlink" title="常用宏"></a>常用宏</h2><h4 id="尺寸宏"><a href="#尺寸宏" class="headerlink" title="尺寸宏"></a>尺寸宏</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">#define StatusBar_HEIGHT 20</div><div class="line"></div><div class="line">#define NavigationBar_HEIGHT 44</div><div class="line"></div><div class="line">#define NavigationBarIcon 20</div><div class="line"></div><div class="line">#define TabBar_HEIGHT 49</div><div class="line"></div><div class="line">#define TabBarIcon 30</div><div class="line"></div><div class="line">#define SCREEN_WIDTH ([UIScreen mainScreen].bounds.size.width)</div><div class="line"></div><div class="line">#define SCREEN_HEIGHT ([UIScreen mainScreen].bounds.size.height)</div></pre></td></tr></table></figure>
<h4 id="打印宏"><a href="#打印宏" class="headerlink" title="打印宏"></a>打印宏</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//替换NSLog来使用，debug模式下可以打印很多方法名，行信息。</div><div class="line">#ifdef DEBUG</div><div class="line">#   define DLog(fmt, ...) NSLog((@&quot;%s [Line %d] &quot; fmt), __PRETTY_FUNCTION__, __LINE__, ##__VA_ARGS__);</div><div class="line">#else  </div><div class="line">#   define DLog(...)  </div><div class="line">#endif</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//直接替换NSLog</div><div class="line">#if DEBUG  </div><div class="line">#define NSLog(FORMAT, ...) fprintf(stderr,&quot;\nfunction:%s line:%d content:%s\n&quot;, __FUNCTION__, __LINE__, [[NSString stringWithFormat:FORMAT, ##__VA_ARGS__] UTF8String]);  </div><div class="line">#else  </div><div class="line">#define NSLog(FORMAT, ...) nil  </div><div class="line">#endif</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//DEBUG  模式下打印日志,当前行以及弹出一个警告</div><div class="line">#ifdef DEBUG</div><div class="line">#   define ULog(fmt, ...)  &#123; UIAlertView *alert = [[UIAlertView alloc] initWithTitle:[NSString stringWithFormat:@&quot;%s\n [Line %d] &quot;, __PRETTY_FUNCTION__, __LINE__] message:[NSString stringWithFormat:fmt, ##__VA_ARGS__]  delegate:nil cancelButtonTitle:@&quot;Ok&quot; otherButtonTitles:nil]; [alert show]; &#125;</div><div class="line">#else</div><div class="line">#   define ULog(...)</div><div class="line">#endif</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line">#define ITTDEBUG</div><div class="line">#define ITTLOGLEVEL_INFO     10</div><div class="line">#define ITTLOGLEVEL_WARNING  3</div><div class="line">#define ITTLOGLEVEL_ERROR    1</div><div class="line"></div><div class="line">#ifndef ITTMAXLOGLEVEL</div><div class="line"></div><div class="line">#ifdef DEBUG</div><div class="line">#define ITTMAXLOGLEVEL ITTLOGLEVEL_INFO</div><div class="line">#else</div><div class="line">#define ITTMAXLOGLEVEL ITTLOGLEVEL_ERROR</div><div class="line">#endif</div><div class="line"></div><div class="line">#endif</div><div class="line"></div><div class="line">// The general purpose logger. This ignores logging levels.</div><div class="line">#ifdef ITTDEBUG</div><div class="line">#define ITTDPRINT(xx, ...)  NSLog(@&quot;%s(%d): &quot; xx, __PRETTY_FUNCTION__, __LINE__, ##__VA_ARGS__)</div><div class="line">#else</div><div class="line">#define ITTDPRINT(xx, ...)  ((void)0)</div><div class="line">#endif</div><div class="line"></div><div class="line">// Prints the current method&apos;s name.</div><div class="line">#define ITTDPRINTMETHODNAME() ITTDPRINT(@&quot;%s&quot;, __PRETTY_FUNCTION__)</div><div class="line"></div><div class="line">// Log-level based logging macros.</div><div class="line">#if ITTLOGLEVEL_ERROR &lt;= ITTMAXLOGLEVEL</div><div class="line">#define ITTDERROR(xx, ...)  ITTDPRINT(xx, ##__VA_ARGS__)</div><div class="line">#else</div><div class="line">#define ITTDERROR(xx, ...)  ((void)0)</div><div class="line">#endif</div><div class="line"></div><div class="line">#if ITTLOGLEVEL_WARNING &lt;= ITTMAXLOGLEVEL</div><div class="line">#define ITTDWARNING(xx, ...)  ITTDPRINT(xx, ##__VA_ARGS__)</div><div class="line">#else</div><div class="line">#define ITTDWARNING(xx, ...)  ((void)0)</div><div class="line">#endif</div><div class="line"></div><div class="line">#if ITTLOGLEVEL_INFO &lt;= ITTMAXLOGLEVEL</div><div class="line">#define ITTDINFO(xx, ...)  ITTDPRINT(xx, ##__VA_ARGS__)</div><div class="line">#else</div><div class="line">#define ITTDINFO(xx, ...)  ((void)0)</div><div class="line">#endif</div><div class="line"></div><div class="line">#ifdef ITTDEBUG</div><div class="line">#define ITTDCONDITIONLOG(condition, xx, ...) &#123; if ((condition)) &#123; \</div><div class="line">ITTDPRINT(xx, ##__VA_ARGS__); \</div><div class="line">&#125; \</div><div class="line">&#125; ((void)0)</div><div class="line">#else</div><div class="line">#define ITTDCONDITIONLOG(condition, xx, ...) ((void)0)</div><div class="line">#endif</div><div class="line"></div><div class="line">#define ITTAssert(condition, ...)                                       \</div><div class="line">do &#123;                                                                      \</div><div class="line">if (!(condition)) &#123;                                                     \</div><div class="line">[[NSAssertionHandler currentHandler]                                  \</div><div class="line">handleFailureInFunction:[NSString stringWithUTF8String:__PRETTY_FUNCTION__] \</div><div class="line">file:[NSString stringWithUTF8String:__FILE__]  \</div><div class="line">lineNumber:__LINE__                                  \</div><div class="line">description:__VA_ARGS__];                             \</div><div class="line">&#125;                                                                       \</div><div class="line">&#125; while(0)</div></pre></td></tr></table></figure>
<h4 id="系统宏"><a href="#系统宏" class="headerlink" title="系统宏"></a>系统宏</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">//获取版本</div><div class="line">#define IOS_VERSION [[[UIDevice currentDevice] systemVersion] floatValue]</div><div class="line">#define CurrentSystemVersion [[UIDevice currentDevice] systemVersion]</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//获取当前语言</div><div class="line">#define CurrentLanguage ([[NSLocale preferredLanguages] objectAtIndex:0])</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//判断是真机还是模拟器  </div><div class="line">#if TARGET_OS_IPHONE  </div><div class="line">//iPhone Device  </div><div class="line">#endif  </div><div class="line">  </div><div class="line">#if TARGET_IPHONE_SIMULATOR  </div><div class="line">//iPhone Simulator  </div><div class="line">#endif</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//检查系统版本</div><div class="line">#define SYSTEM_VERSION_EQUAL_TO(v)                  ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedSame)</div><div class="line">#define SYSTEM_VERSION_GREATER_THAN(v)              ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedDescending)</div><div class="line">#define SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(v)  ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] != NSOrderedAscending)</div><div class="line">#define SYSTEM_VERSION_LESS_THAN(v)                 ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedAscending)</div><div class="line">#define SYSTEM_VERSION_LESS_THAN_OR_EQUAL_TO(v)     ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] != NSOrderedDescending)</div></pre></td></tr></table></figure>
<h4 id="内存宏"><a href="#内存宏" class="headerlink" title="内存宏"></a>内存宏</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">//使用ARC和不使用ARC</div><div class="line">#if __has_feature(objc_arc)</div><div class="line">//compiling with ARC</div><div class="line">#else</div><div class="line">// compiling without ARC</div><div class="line">#endif</div><div class="line"></div><div class="line">#pragma mark - common functions</div><div class="line">#define RELEASE_SAFELY(__POINTER) &#123; [__POINTER release]; __POINTER = nil; &#125;</div><div class="line"></div><div class="line">//释放一个对象</div><div class="line">#define SAFE_DELETE(P) if(P) &#123; [P release], P = nil; &#125;</div><div class="line"></div><div class="line">#define SAFE_RELEASE(x) [x release];x=nil</div></pre></td></tr></table></figure>
<h4 id="图片宏"><a href="#图片宏" class="headerlink" title="图片宏"></a>图片宏</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">//读取本地图片</div><div class="line">#define LOADIMAGE(file,ext) [UIImage imageWithContentsOfFile:[[NSBundle mainBundle]pathForResource:file ofType:ext]]</div><div class="line"></div><div class="line">//定义UIImage对象</div><div class="line">#define IMAGE(A) [UIImage imageWithContentsOfFile:[[NSBundle mainBundle] pathForResource:A ofType:nil]]</div><div class="line"></div><div class="line">//定义UIImage对象</div><div class="line">//#define ImageNamed(_pointer) [UIImage imageNamed:[UIUtil imageName:_pointer]]</div><div class="line"></div><div class="line">//前两种宏性能高，省内存</div><div class="line">//第三个没有必要使用，因为我们可以使用Xcode的插件</div></pre></td></tr></table></figure>
<h4 id="颜色宏"><a href="#颜色宏" class="headerlink" title="颜色宏"></a>颜色宏</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">// rgb颜色转换（16进制-&gt;10进制）</div><div class="line">#define UIColorFromRGB(rgbValue) [UIColor colorWithRed:((float)((rgbValue &amp; 0xFF0000) &gt;&gt; 16))/255.0 green:((float)((rgbValue &amp; 0xFF00) &gt;&gt; 8))/255.0 blue:((float)(rgbValue &amp; 0xFF))/255.0 alpha:1.0]</div><div class="line"></div><div class="line">//带有RGBA的颜色设置</div><div class="line">#define COLOR(R, G, B, A) [UIColor colorWithRed:R/255.0 green:G/255.0 blue:B/255.0 alpha:A]</div><div class="line"></div><div class="line">// 获取RGB颜色</div><div class="line">#define RGBA(r,g,b,a) [UIColor colorWithRed:r/255.0f green:g/255.0f blue:b/255.0f alpha:a]</div><div class="line">#define RGB(r,g,b) RGBA(r,g,b,1.0f)</div><div class="line"></div><div class="line">//背景色</div><div class="line">#define BACKGROUND_COLOR [UIColor colorWithRed:242.0/255.0 green:236.0/255.0 blue:231.0/255.0 alpha:1.0]</div><div class="line"></div><div class="line">//清除背景色</div><div class="line">#define CLEARCOLOR [UIColor clearColor]</div><div class="line"></div><div class="line">#pragma mark - color functions</div><div class="line">#define RGBCOLOR(r,g,b) [UIColor colorWithRed:(r)/255.0f green:(g)/255.0f blue:(b)/255.0f alpha:1]</div><div class="line">#define RGBACOLOR(r,g,b,a) [UIColor colorWithRed:(r)/255.0f green:(g)/255.0f blue:(b)/255.0f alpha:(a)]</div></pre></td></tr></table></figure>
<h4 id="其他宏"><a href="#其他宏" class="headerlink" title="其他宏"></a>其他宏</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">//方正黑体简体字体定义</div><div class="line">#define FONT(F) [UIFont fontWithName:@&quot;FZHTJW--GB1-0&quot; size:F]</div><div class="line"></div><div class="line">//定义一个API</div><div class="line">#define APIURL                @&quot;http://xxxxx/&quot;</div><div class="line">//登陆API</div><div class="line">#define APILogin              [APIURL stringByAppendingString:@&quot;Login&quot;]</div><div class="line"></div><div class="line">//设置View的tag属性</div><div class="line">#define VIEWWITHTAG(_OBJECT, _TAG)    [_OBJECT viewWithTag : _TAG]</div><div class="line">//程序的本地化,引用国际化的文件</div><div class="line">#define MyLocal(x, ...) NSLocalizedString(x, nil)</div><div class="line"></div><div class="line">//G－C－D</div><div class="line">#define BACK(block) dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), block)</div><div class="line">#define MAIN(block) dispatch_async(dispatch_get_main_queue(),block)</div><div class="line"></div><div class="line">//NSUserDefaults 实例化</div><div class="line">#define USER_DEFAULT [NSUserDefaults standardUserDefaults]</div><div class="line"></div><div class="line"></div><div class="line">//由角度获取弧度 有弧度获取角度</div><div class="line">#define degreesToRadian(x) (M_PI * (x) / 180.0)</div><div class="line">#define radianToDegrees(radian) (radian*180.0)/(M_PI)</div></pre></td></tr></table></figure>
<h4 id="单例宏"><a href="#单例宏" class="headerlink" title="单例宏"></a>单例宏</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">#define SYNTHESIZE_SINGLETON_FOR_CLASS(classname) \</div><div class="line">\</div><div class="line">static classname *shared##classname = nil; \</div><div class="line">\</div><div class="line">+ (classname *)shared##classname \</div><div class="line">&#123; \</div><div class="line">@synchronized(self) \</div><div class="line">&#123; \</div><div class="line">if (shared##classname == nil) \</div><div class="line">&#123; \</div><div class="line">shared##classname = [[self alloc] init]; \</div><div class="line">&#125; \</div><div class="line">&#125; \</div><div class="line">\</div><div class="line">return shared##classname; \</div><div class="line">&#125; \</div><div class="line">\</div><div class="line">+ (id)allocWithZone:(NSZone *)zone \</div><div class="line">&#123; \</div><div class="line">@synchronized(self) \</div><div class="line">&#123; \</div><div class="line">if (shared##classname == nil) \</div><div class="line">&#123; \</div><div class="line">shared##classname = [super allocWithZone:zone]; \</div><div class="line">return shared##classname; \</div><div class="line">&#125; \</div><div class="line">&#125; \</div><div class="line">\</div><div class="line">return nil; \</div><div class="line">&#125; \</div><div class="line">\</div><div class="line">- (id)copyWithZone:(NSZone *)zone \</div><div class="line">&#123; \</div><div class="line">return self; \</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="小技巧"><a href="#小技巧" class="headerlink" title="小技巧"></a>小技巧</h2><h4 id="CGRect"><a href="#CGRect" class="headerlink" title="CGRect"></a><strong>CGRect</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CGRectFromString(&lt;#NSString *string#&gt;)//有字符串恢复出矩形CGRectInset(&lt;#CGRect rect#&gt;, &lt;#CGFloat dx#&gt;, &lt;#CGFloat dy#&gt;)//创建较小或者较大的矩形CGRectIntersectsRect(&lt;#CGRect rect1#&gt;, &lt;#CGRect rect2#&gt;)//判断两巨星是否交叉，是否重叠CGRectZero//高度和宽度为零的，位于（0，0）的矩形常量</div></pre></td></tr></table></figure>
<h4 id="隐藏状态栏"><a href="#隐藏状态栏" class="headerlink" title="隐藏状态栏"></a><strong>隐藏状态栏</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[UIApplicationsharedApplication]setStatusBarHidden:&lt;#(BOOL)#&gt; withAnimation:&lt;#(UIStatusBarAnimation)#&gt;//隐藏状态栏</div></pre></td></tr></table></figure>
<h4 id="自动适应父视图大小"><a href="#自动适应父视图大小" class="headerlink" title="自动适应父视图大小"></a><strong>自动适应父视图大小</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">self.view.autoresizesSubviews=YES;</div><div class="line">self.view.autoresizingMask=UIViewAutoresizingFlexibleWidth|UIViewAutoresizingFlexibleHeight;</div></pre></td></tr></table></figure>
<h4 id="UITableView的一些方法"><a href="#UITableView的一些方法" class="headerlink" title="UITableView的一些方法"></a><strong>UITableView的一些方法</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//缩进级别设置为行号，row越大，缩进越多</div><div class="line">  -(NSInteger)tableView:(UITableView*)tableView indentationLevelForRowAtIndexPath:(NSIndexPath*)indexPath&#123;NSIntegerrow=indexPath.row;returnrow;&#125;</div></pre></td></tr></table></figure>
<h4 id="把plist文件中的数据赋给数组"><a href="#把plist文件中的数据赋给数组" class="headerlink" title="把plist文件中的数据赋给数组"></a><strong>把plist文件中的数据赋给数组</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NSString*path=[[NSBundlemainBundle]pathForResource:@&quot;States&quot;ofType:@&quot;plist&quot;];</div><div class="line">NSArray*array=[NSArrayarrayWithContentsOfFile:path];</div></pre></td></tr></table></figure>
<h4 id="获取触摸的点"><a href="#获取触摸的点" class="headerlink" title="获取触摸的点"></a><strong>获取触摸的点</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">-(CGPoint)locationInView:(UIView*)view;-(CGPoint)previousLocationInView:(UIView*)view;</div></pre></td></tr></table></figure>
<h4 id="获取触摸的属性"><a href="#获取触摸的属性" class="headerlink" title="获取触摸的属性"></a><strong>获取触摸的属性</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@property(nonatomic,readonly)NSTimeIntervaltimestamp;</div><div class="line">@property(nonatomic,readonly)UITouchPhasephase;</div><div class="line">@property(nonatomic,readonly)NSUIntegertapCount;</div></pre></td></tr></table></figure>
<h4 id="从plist中获取数据赋给字典"><a href="#从plist中获取数据赋给字典" class="headerlink" title="从plist中获取数据赋给字典"></a><strong>从plist中获取数据赋给字典</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NSString*plistPath=[[NSBundlemainBundle]pathForResource:@&quot;book&quot;ofType:@&quot;plist&quot;];</div><div class="line">NSDictionary*dictionary=[NSDictionarydictionaryWithContentsOfFile:plistPath];</div></pre></td></tr></table></figure>
<h4 id="NSUserDefaults注意事项"><a href="#NSUserDefaults注意事项" class="headerlink" title="NSUserDefaults注意事项"></a><strong>NSUserDefaults注意事项</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">//设置完了以后如果存储的东西比较重要的话，一定要同步一下[[NSUserDefaultsstandardUserDefaults]synchronize];</div></pre></td></tr></table></figure>
<h4 id="获取Documents目录"><a href="#获取Documents目录" class="headerlink" title="获取Documents目录"></a><strong>获取Documents目录</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">NSString*documentsDirectory=NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask,YES)[0];</div></pre></td></tr></table></figure>
<h4 id="获取tmp目录"><a href="#获取tmp目录" class="headerlink" title="获取tmp目录"></a><strong>获取tmp目录</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">NSString*tmpPath=NSTemporaryDirectory();</div></pre></td></tr></table></figure>
<h4 id="利用Safari打开一个链接"><a href="#利用Safari打开一个链接" class="headerlink" title="利用Safari打开一个链接"></a><strong>利用Safari打开一个链接</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">NSURL*url=[NSURLURLWithString:@&quot;http://baidu.com&quot;];[[UIApplicationsharedApplication]openURL:url];</div></pre></td></tr></table></figure>
<h4 id="利用UIWebView显示pdf文件，网页等等"><a href="#利用UIWebView显示pdf文件，网页等等" class="headerlink" title="利用UIWebView显示pdf文件，网页等等"></a><strong>利用UIWebView显示pdf文件，网页等等</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">UIWebView *webView = [[UIWebView alloc]initWithFrame:self.view.bounds];</div><div class="line"></div><div class="line">webView.delegate = self;</div><div class="line"></div><div class="line">webView.scalesPageToFit = YES;</div><div class="line"></div><div class="line">webView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;</div><div class="line"></div><div class="line">[webView setAllowsInlineMediaPlayback:YES];</div><div class="line"></div><div class="line">[self.view addSubview:webView];</div><div class="line"></div><div class="line">NSString *pdfPath = [[NSBundle mainBundle] pathForResource:@&quot;book&quot; ofType:@&quot;pdf&quot;];</div><div class="line"></div><div class="line">NSURL *url = [NSURL fileURLWithPath:pdfPath];</div><div class="line"></div><div class="line">NSURLRequest *request = [NSURLRequest requestWithURL:url cachePolicy:(NSURLRequestUseProtocolCachePolicy) timeoutInterval:5];</div></pre></td></tr></table></figure>
<h4 id="UIWebView和html的简单交互"><a href="#UIWebView和html的简单交互" class="headerlink" title="UIWebView和html的简单交互"></a><strong>UIWebView和html的简单交互</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">myWebView=[[UIWebViewalloc]initWithFrame:self.view.bounds];</div><div class="line">[myWebView loadRequest:[NSURLRequestrequestWithURL:[NSURLURLWithString:@&quot;http://www.baidu.com&quot;]]];</div><div class="line">NSError*error;</div><div class="line">NSString*errorString=[NSStringstringWithFormat:@&quot;AnError Occurred;</div><div class="line">%@&quot;,error];[myWebView loadHTMLString:errorString baseURL:nil];</div><div class="line"> //页面跳转了以后，停止载入</div><div class="line">-(void)viewWillDisappear:(BOOL)animated&#123;</div><div class="line">  if(myWebView.isLoading)&#123;</div><div class="line">   [myWebView stopLoading];</div><div class="line">&#125;</div><div class="line">    myWebView.delegate=nil;   [UIApplicationsharedApplication].networkActivityIndicatorVisible=NO;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="汉字转码"><a href="#汉字转码" class="headerlink" title="汉字转码"></a><strong>汉字转码</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NSString*oriString=@&quot;\u67aa\u738b&quot;;</div><div class="line">NSString*escapedString=[oriString stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding];</div></pre></td></tr></table></figure>
<h4 id="处理键盘通知"><a href="#处理键盘通知" class="headerlink" title="处理键盘通知"></a><strong>处理键盘通知</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">先注册通知，然后实现具体当键盘弹出来要做什么，键盘收起来要做什么</div><div class="line">  -(void)registerForKeyboardNotifications&#123;</div><div class="line">  keyboardShown=NO;//标记当前键盘是没有显示的</div><div class="line">  [[NSNotificationCenterdefaultCenter]addObserver:selfselector:@selector(keyboardWasShown:)name:UIKeyboardWillShowNotificationobject:nil];[[NSNotificationCenterdefaultCenter]addObserver:selfselector:@selector(keyboardWasHidden:)name:UIKeyboardDidHideNotificationobject:nil];</div><div class="line">&#125;//键盘显示要做什么</div><div class="line">-(void)keyboardWasShown:(NSNotification*)notification&#123;</div><div class="line">  if(keyboardShown)&#123;</div><div class="line">    return;</div><div class="line">  &#125;</div><div class="line">  NSDictionary*info=[notification userInfo];</div><div class="line">  NSValue*aValue=[info objectForKey:UIKeyboardFrameBeginUserInfoKey];</div><div class="line">  CGSizekeyboardSize=[aValueCGRectValue].size;</div><div class="line">  CGRectviewFrame=scrollView.frame;</div><div class="line">  viewFrame.size.height=keyboardSize.height;</div><div class="line">  CGRecttextFieldRect=activeField.frame;</div><div class="line">  [scrollView scrollRectToVisible:textFieldRect animated:YES];</div><div class="line">  keyboardShown=YES;</div><div class="line">&#125;</div><div class="line">-(void)keyboardWasHidden:(NSNotification*)notification&#123;</div><div class="line">  NSDictionary*info=[notification userInfo];</div><div class="line">  NSValue*aValue=[info objectForKey:UIKeyboardFrameEndUserInfoKey];</div><div class="line">  CGSizekeyboardSize=[aValueCGRectValue].size;</div><div class="line">  CGRectviewFrame=scrollView.frame;</div><div class="line">  viewFrame.size.height+=keyboardSize.height;</div><div class="line">  scrollView.frame=viewFrame;</div><div class="line">  keyboardShown=NO;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="点击键盘的next按钮，在不同的textField之间换行"><a href="#点击键盘的next按钮，在不同的textField之间换行" class="headerlink" title="点击键盘的next按钮，在不同的textField之间换行"></a><strong>点击键盘的next按钮，在不同的textField之间换行</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">-(BOOL)textFieldShouldReturn:(UITextField*)textField&#123;</div><div class="line">  if([textField returnKeyType]!=UIReturnKeyDone)</div><div class="line">  &#123;</div><div class="line">    NSIntegernextTag=[textField tag]+1;</div><div class="line">    UIView*nextTextField=[self.tableView viewWithTag:nextTag];</div><div class="line">    [nextTextField becomeFirstResponder];</div><div class="line">  &#125;else&#123;</div><div class="line">    [textField resignFirstResponder];</div><div class="line">  &#125;</div><div class="line">  return YES;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="设置日期格式"><a href="#设置日期格式" class="headerlink" title="设置日期格式"></a><strong>设置日期格式</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">dateFormatter=[[NSDateFormatteralloc]init];</div><div class="line">dateFormatter.locale=[NSLocalecurrentLocale];</div><div class="line">dateFormatter.calendar=[NSCalendarautoupdatingCurrentCalendar];</div><div class="line">dateFormatter.timeZone=[NSTimeZonedefaultTimeZone];</div><div class="line">dateFormatter.dateStyle=NSDateFormatterShortStyle;</div><div class="line">  NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:[NSDatedate]]);</div></pre></td></tr></table></figure>
<h4 id="加载大量图片的时候，可以使用"><a href="#加载大量图片的时候，可以使用" class="headerlink" title="加载大量图片的时候，可以使用"></a><strong>加载大量图片的时候，可以使用</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NSString*imagePath=[[NSBundlemainBundle]pathForResource:@&quot;icon&quot;ofType:@&quot;png&quot;];</div><div class="line">UIImage*myImage=[UIImageimageWithContentsOfFile:imagePath];</div></pre></td></tr></table></figure>
<h4 id="有时候在iPhone游戏中，既要播放背景音乐，同时又要播放比如枪的开火音效"><a href="#有时候在iPhone游戏中，既要播放背景音乐，同时又要播放比如枪的开火音效" class="headerlink" title="有时候在iPhone游戏中，既要播放背景音乐，同时又要播放比如枪的开火音效"></a><strong>有时候在iPhone游戏中，既要播放背景音乐，同时又要播放比如枪的开火音效</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">NSString*musicFilePath=[[NSBundlemainBundle]pathForResource:@&quot;xx&quot;ofType:@&quot;wav&quot;];</div><div class="line">NSURL*musicURL=[NSURL fileURLWithPath:musicFilePath];</div><div class="line">AVAudioPlayer*musicPlayer=[[AVAudioPlayeralloc]initWithContentsOfURL:musicURL error:nil];[musicPlayer prepareToPlay];</div><div class="line">musicPlayer.volume=1;</div><div class="line">musicPlayer.numberOfLoops=-1;//-1表示一直循环</div></pre></td></tr></table></figure>
<h4 id="从通讯录中读取电话号码，去掉数字之间的"><a href="#从通讯录中读取电话号码，去掉数字之间的" class="headerlink" title="从通讯录中读取电话号码，去掉数字之间的-"></a><strong>从通讯录中读取电话号码，去掉数字之间的-</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">NSString*originalString=@&quot;(123)123123abc&quot;;</div><div class="line">NSMutableString*strippedString=[NSMutableStringstringWithCapacity:originalString.length];</div><div class="line">NSScanner*scanner=[NSScannerscannerWithString:originalString];</div><div class="line">NSCharacterSet*numbers=[NSCharacterSetcharacterSetWithCharactersInString:@&quot;0123456789&quot;];</div><div class="line">while([scanner isAtEnd]==NO)</div><div class="line">&#123;</div><div class="line">  NSString*buffer;</div><div class="line">  if([scanner scanCharactersFromSet:numbers intoString:&amp;buffer])</div><div class="line">  &#123;</div><div class="line">    [strippedString appendString:buffer];</div><div class="line">  &#125;else&#123;</div><div class="line">    scanner.scanLocation=[scanner scanLocation]+1;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">NSLog(@&quot;%@&quot;,strippedString);</div></pre></td></tr></table></figure>
<h4 id="正则判断：字符串只包含字母和数字"><a href="#正则判断：字符串只包含字母和数字" class="headerlink" title="正则判断：字符串只包含字母和数字"></a><strong>正则判断：字符串只包含字母和数字</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">NSString*myString=@&quot;Letter1234&quot;;</div><div class="line">NSString*regex=@&quot;[a-z][A-Z][0-9]&quot;;</div><div class="line">NSPredicate*predicate=[NSPredicatepredicateWithFormat:@&quot;SELF MATCHES %@&quot;,regex];</div><div class="line">if([predicate evaluateWithObject:myString])&#123;</div><div class="line">  //implement</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="设置UITableView的滚动条颜色"><a href="#设置UITableView的滚动条颜色" class="headerlink" title="设置UITableView的滚动条颜色"></a><strong>设置UITableView的滚动条颜色</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">self.tableView.indicatorStyle=UIScrollViewIndicatorStyleWhite;</div><div class="line"></div><div class="line">/*网络编程 开发web等网络应用程序的时候，需要确认网络环境，连接情况等信息。如果没有处理它们，是不会通过apple的审查的。 系统自带的网络检查是原生的，AFNetworking也为我们添加了相关检测机制，所以这个直接在介绍AFNetworking的时候详解吧。*/</div></pre></td></tr></table></figure>
<h4 id="使用NSURLConnection下载数据"><a href="#使用NSURLConnection下载数据" class="headerlink" title="使用NSURLConnection下载数据"></a><strong>使用NSURLConnection下载数据</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">//1.创建对象</div><div class="line">  NSMutableURLRequest*request=[NSMutableURLRequestrequestWithURL:[NSURLURLWithString:@&quot;http://www.baidu.com&quot;]];[NSURLConnectionconnectionWithRequest:requestdelegate:self];</div><div class="line">//2.NSURLConnectiondelegate委托方法</div><div class="line">-(void)connection:(NSURLConnection*)connection didReceiveResponse:(NSURLResponse*)response&#123;&#125;</div><div class="line">-(void)connection:(NSURLConnection*)connection didReceiveData:(NSData*)data&#123;&#125;</div><div class="line">-(void)connection:(NSURLConnection*)connection didFailWithError:(NSError*)error&#123;&#125;</div><div class="line">-(void)connectionDidFinishLoading:(NSURLConnection*)connection&#123;&#125;</div><div class="line">//3.实现委托方法</div><div class="line">-(void)connection:(NSURLConnection*)connection didReceiveResponse:(NSURLResponse*)response&#123;</div><div class="line">  self.receiveData.length=0;//先清空数据</div><div class="line">&#125;</div><div class="line">-(void)connection:(NSURLConnection*)connection didReceiveData:(NSData*)data&#123;</div><div class="line">  [self.receiveData appendData:data];</div><div class="line">&#125;</div><div class="line">-(void)connection:(NSURLConnection*)connection didFailWithError:(NSError*)error&#123;</div><div class="line">  //错误处理</div><div class="line">&#125;</div><div class="line">-(void)connectionDidFinishLoading:(NSURLConnection*)connection&#123;</div><div class="line">  [UIApplicationsharedApplication].networkActivityIndicatorVisible=NO;</div><div class="line">  NSString*returnString=[[NSStringalloc]initWithData:self.receiveData encoding:NSUTF8StringEncoding];</div><div class="line">  firstTimeDownloaded=YES;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="读取一般性文件"><a href="#读取一般性文件" class="headerlink" title="读取一般性文件"></a><strong>读取一般性文件</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">-(void)readFromTXT&#123;NSString*tmp;NSArray*lines;//将文件转化为一行一行的</div><div class="line">                   lines=[[NSStringstringWithContentsOfFile:@&quot;testFileReadLines.txt&quot;]componentsSeparatedByString:@&quot;\n&quot;];</div><div class="line"> NSEnumerator*nse=[lines objectEnumerator];//读取&lt;&gt;里的内容</div><div class="line"> while(tmp==[nse nextObject])&#123;</div><div class="line">   NSString*stringBetweenBrackets=nil;</div><div class="line">   NSScanner*scanner=[NSScannerscannerWithString:tmp];</div><div class="line">   [scanner scanUpToString:@&quot;&lt;&quot;intoString:nil];</div><div class="line">   [scanner scanString:@&quot;&lt;&quot;intoString:nil];</div><div class="line">   [scanner scanUpToString:@&quot;&gt;&quot;intoString:&amp;stringBetweenBrackets];</div><div class="line">   NSLog(@&quot;%@&quot;,[stringBetweenBrackets description]);</div><div class="line"> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="调用电话，短信，邮件"><a href="#调用电话，短信，邮件" class="headerlink" title="调用电话，短信，邮件"></a><strong>调用电话，短信，邮件</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[[UIApplicationsharedApplication]openURL:[NSURLURLWithString:@&quot;mailto:apple@mac.com?Subject=hello&quot;]];sms://调用短信tel://调用电话itms://打开MobileStore.app</div></pre></td></tr></table></figure>
<h4 id="获取版本信息"><a href="#获取版本信息" class="headerlink" title="获取版本信息"></a><strong>获取版本信息</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">UIDevice*myDevice=[UIDevicecurrentDevice];</div><div class="line">NSString*systemVersion=myDevice.systemVersion;</div></pre></td></tr></table></figure>
<h4 id="UIWebView的使用"><a href="#UIWebView的使用" class="headerlink" title="UIWebView的使用"></a><strong>UIWebView的使用</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">webView.delegate = self;</div><div class="line"></div><div class="line">(BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType &#123;</div><div class="line"></div><div class="line">NSURL *url = request.URL;</div><div class="line"></div><div class="line">NSString *urlStirng = url.absoluteString;</div><div class="line"></div><div class="line">NSLog(@&quot;%@&quot;,urlStirng);</div><div class="line"></div><div class="line">return YES;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="NSNotificationCenter带参数发送"><a href="#NSNotificationCenter带参数发送" class="headerlink" title="NSNotificationCenter带参数发送"></a><strong>NSNotificationCenter带参数发送</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">MPMoviePlayerController*theMovie=[[MPMoviePlayerControlleralloc]initWithContentURL:[NSURL fileURLWithPath:moviePath]];[[NSNotificationCenterdefaultCenter]addObserver:selfselector:@selector(myMovieFinishedCallback:)name:MPMoviePlayerPlaybackDidFinishNotificationobject:theMovie];</div><div class="line">[theMovie play];</div><div class="line">-(void)myMovieFinishedCallback:(NSNotification*)aNotification</div><div class="line">&#123;</div><div class="line">  MPMoviePlayerController*theMovie=[aNotificationobject];[[NSNotificationCenterdefaultCenter]removeObserver:selfname:MPMoviePlayerPlaybackDidFinishNotificationobject:theMovie];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="延迟一段时间执行某个函数"><a href="#延迟一段时间执行某个函数" class="headerlink" title="延迟一段时间执行某个函数"></a><strong>延迟一段时间执行某个函数</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[selfperformSelector:@selector(dismissModal)withObject:selfafterDelay:1.0];</div></pre></td></tr></table></figure>
<h4 id="用NSDateFormatter调整时间格式代码"><a href="#用NSDateFormatter调整时间格式代码" class="headerlink" title="用NSDateFormatter调整时间格式代码"></a><strong>用NSDateFormatter调整时间格式代码</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">NSDateFormatter*dateFormatter=[[NSDateFormatteralloc]init];</div><div class="line">dateFormatter.dateFormat=@&quot;yyyy-MM-dd HH:mm:ss&quot;;</div><div class="line">NSString*currentDateStr=[dateFormatter stringFromDate:[NSDatedate]];</div></pre></td></tr></table></figure>
<h4 id="iPhone-更改键盘右下角按键的-type"><a href="#iPhone-更改键盘右下角按键的-type" class="headerlink" title="iPhone 更改键盘右下角按键的 type"></a><strong>iPhone 更改键盘右下角按键的 type</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">SearchBar*mySearchBar=[[UISearchBaralloc]init];</div><div class="line">mySearchBar.frame=CGRectMake(0,0,self.view.bounds.size.width,44);</div><div class="line">mySearchBar.placeholder=@&quot;placeholderString&quot;;</div><div class="line">mySearchBar.delegate=self;</div><div class="line">[self.view addSubview:mySearchBar];</div><div class="line">UITextField*searchField=[[mySearchBar subviews]lastObject];</div><div class="line">searchField.returnKeyType=UIReturnKeyDone;</div></pre></td></tr></table></figure>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/常用代码块/" rel="tag"># 常用代码块</a>
          
            <a href="/tags/常用宏/" rel="tag"># 常用宏</a>
          
            <a href="/tags/小技巧/" rel="tag"># 小技巧</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/01/15/多线程和GCD/" rel="next" title="多线程和GCD">
                <i class="fa fa-chevron-left"></i> 多线程和GCD
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/01/17/iOS开发技巧-二/" rel="prev" title="iOS开发技巧(二)">
                iOS开发技巧(二) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
       <section id="comments">
   <!-- 多说评论框 start -->
<div id="ds-thread" class="ds-thread" data-thread-key="2017/01/16/iOS开发技巧/" data-title="iOS开发技巧(一)" data-url="http://yoursite.com/2017/01/16/iOS开发技巧/" }}"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"feyddy"};
  (function() {
var ds = document.createElement('script');
ds.type = 'text/javascript';ds.async = true;
ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
ds.charset = 'UTF-8';
(document.getElementsByTagName('head')[0] 
 || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->
</section>
    
  </div>

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://ww3.sinaimg.cn/large/e3aca1a1jw1fahfwp4p04j207307mwf6.jpg"
               alt="Feyddy" />
          <p class="site-author-name" itemprop="name">Feyddy</p>
          <p class="site-description motion-element" itemprop="description">不积跬步，无以至千里；不积小流，无以成江海。(本人博客都是自己的一些学习笔记，积少成多！)</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">89</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">306</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Feyddy" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/新Feyddy" target="_blank" title="微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  微博
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#常用代码块"><span class="nav-number">1.</span> <span class="nav-text">常用代码块</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#遍历可变数组的同时删除数组元素"><span class="nav-number">1.0.1.</span> <span class="nav-text">遍历可变数组的同时删除数组元素</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#获取系统当前语言"><span class="nav-number">1.0.2.</span> <span class="nav-text">获取系统当前语言</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UITableView的Group样式下顶部空白处理"><span class="nav-number">1.0.3.</span> <span class="nav-text">UITableView的Group样式下顶部空白处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UITableView的plain样式下，取消区头停滞效果"><span class="nav-number">1.0.4.</span> <span class="nav-text">UITableView的plain样式下，取消区头停滞效果</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#获取某个view所在的控制器"><span class="nav-number">1.0.5.</span> <span class="nav-text">获取某个view所在的控制器</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#两种方法删除NSUserDefaults所有记录"><span class="nav-number">1.1.</span> <span class="nav-text">两种方法删除NSUserDefaults所有记录</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#打印系统所有已注册的字体名称"><span class="nav-number">1.1.1.</span> <span class="nav-text">打印系统所有已注册的字体名称</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#获取图片某一点的颜色"><span class="nav-number">1.1.2.</span> <span class="nav-text">获取图片某一点的颜色</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字符串反转"><span class="nav-number">1.1.3.</span> <span class="nav-text">字符串反转</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#禁止锁屏"><span class="nav-number">1.1.4.</span> <span class="nav-text">禁止锁屏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#模态推出透明界面"><span class="nav-number">1.1.5.</span> <span class="nav-text">模态推出透明界面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#iOS跳转到App-Store下载应用评分"><span class="nav-number">1.1.6.</span> <span class="nav-text">iOS跳转到App Store下载应用评分</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#手动更改iOS状态栏的颜色"><span class="nav-number">1.1.7.</span> <span class="nav-text">手动更改iOS状态栏的颜色</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#判断当前ViewController是push还是present的方式显示"><span class="nav-number">1.1.8.</span> <span class="nav-text">判断当前ViewController是push还是present的方式显示</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#获取实际使用的LaunchImage图片"><span class="nav-number">1.1.9.</span> <span class="nav-text">获取实际使用的LaunchImage图片</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#iOS在当前屏幕获取第一响应"><span class="nav-number">1.1.10.</span> <span class="nav-text">iOS在当前屏幕获取第一响应</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#判断对象是否遵循了某协议"><span class="nav-number">1.1.11.</span> <span class="nav-text">判断对象是否遵循了某协议</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#判断view是不是指定视图的子视图"><span class="nav-number">1.1.12.</span> <span class="nav-text">判断view是不是指定视图的子视图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#NSArray-快速求总和-最大值-最小值-和-平均值"><span class="nav-number">1.1.13.</span> <span class="nav-text">NSArray 快速求总和 最大值 最小值 和 平均值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#修改UITextField中Placeholder的文字颜色"><span class="nav-number">1.1.14.</span> <span class="nav-text">修改UITextField中Placeholder的文字颜色</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#获取一个类的所有子类"><span class="nav-number">1.1.15.</span> <span class="nav-text">获取一个类的所有子类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#阿拉伯数字转中文格式"><span class="nav-number">1.1.16.</span> <span class="nav-text">阿拉伯数字转中文格式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#取消UICollectionView的隐式动画"><span class="nav-number">1.1.17.</span> <span class="nav-text">取消UICollectionView的隐式动画</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#判断邮箱格式是否正确的代码"><span class="nav-number">1.1.18.</span> <span class="nav-text">判断邮箱格式是否正确的代码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#iOS中UITextField的字数限制"><span class="nav-number">1.1.19.</span> <span class="nav-text">iOS中UITextField的字数限制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GCD定时器"><span class="nav-number">1.1.20.</span> <span class="nav-text">GCD定时器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#图片上绘制文字"><span class="nav-number">1.1.21.</span> <span class="nav-text">图片上绘制文字</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#查找一个视图的所有子视图"><span class="nav-number">1.1.22.</span> <span class="nav-text">查找一个视图的所有子视图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#计算文件大小"><span class="nav-number">1.1.23.</span> <span class="nav-text">计算文件大小</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UIView的设置部分圆角"><span class="nav-number">1.1.24.</span> <span class="nav-text">UIView的设置部分圆角</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#计算字符串字符长度，一个汉字算两个字符"><span class="nav-number">1.1.25.</span> <span class="nav-text">计算字符串字符长度，一个汉字算两个字符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#防止滚动视图手势覆盖侧滑手势"><span class="nav-number">1.1.26.</span> <span class="nav-text">防止滚动视图手势覆盖侧滑手势</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#去掉导航栏返回的标题"><span class="nav-number">1.1.27.</span> <span class="nav-text">去掉导航栏返回的标题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字符串中是否含有中文"><span class="nav-number">1.1.28.</span> <span class="nav-text">字符串中是否含有中文</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#dispatch-group的使用"><span class="nav-number">1.1.29.</span> <span class="nav-text">dispatch_group的使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UITextField每四位加一个空格，实现代理"><span class="nav-number">1.1.30.</span> <span class="nav-text">UITextField每四位加一个空格，实现代理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#获取手机安装的应用"><span class="nav-number">1.1.31.</span> <span class="nav-text">获取手机安装的应用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#应用内打开系统设置界面"><span class="nav-number">1.1.32.</span> <span class="nav-text">应用内打开系统设置界面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#动画暂停再开始"><span class="nav-number">1.1.33.</span> <span class="nav-text">动画暂停再开始</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#iOS版中数字的格式化"><span class="nav-number">1.1.34.</span> <span class="nav-text">iOS版中数字的格式化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#如何获取的WebView所有的图片地址"><span class="nav-number">1.1.35.</span> <span class="nav-text">如何获取的WebView所有的图片地址</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#获取到的WebView的高度"><span class="nav-number">1.1.36.</span> <span class="nav-text">获取到的WebView的高度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#导航栏变为纯透明"><span class="nav-number">1.1.37.</span> <span class="nav-text">导航栏变为纯透明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#tabBar变为纯透明"><span class="nav-number">1.1.38.</span> <span class="nav-text">tabBar变为纯透明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#navigationBar根据滑动距离的渐变色实现"><span class="nav-number">1.1.39.</span> <span class="nav-text">navigationBar根据滑动距离的渐变色实现</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用宏"><span class="nav-number">2.</span> <span class="nav-text">常用宏</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#尺寸宏"><span class="nav-number">2.0.1.</span> <span class="nav-text">尺寸宏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#打印宏"><span class="nav-number">2.0.2.</span> <span class="nav-text">打印宏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#系统宏"><span class="nav-number">2.0.3.</span> <span class="nav-text">系统宏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#内存宏"><span class="nav-number">2.0.4.</span> <span class="nav-text">内存宏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#图片宏"><span class="nav-number">2.0.5.</span> <span class="nav-text">图片宏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#颜色宏"><span class="nav-number">2.0.6.</span> <span class="nav-text">颜色宏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#其他宏"><span class="nav-number">2.0.7.</span> <span class="nav-text">其他宏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#单例宏"><span class="nav-number">2.0.8.</span> <span class="nav-text">单例宏</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#小技巧"><span class="nav-number">3.</span> <span class="nav-text">小技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#CGRect"><span class="nav-number">3.0.1.</span> <span class="nav-text">CGRect</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#隐藏状态栏"><span class="nav-number">3.0.2.</span> <span class="nav-text">隐藏状态栏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自动适应父视图大小"><span class="nav-number">3.0.3.</span> <span class="nav-text">自动适应父视图大小</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UITableView的一些方法"><span class="nav-number">3.0.4.</span> <span class="nav-text">UITableView的一些方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#把plist文件中的数据赋给数组"><span class="nav-number">3.0.5.</span> <span class="nav-text">把plist文件中的数据赋给数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#获取触摸的点"><span class="nav-number">3.0.6.</span> <span class="nav-text">获取触摸的点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#获取触摸的属性"><span class="nav-number">3.0.7.</span> <span class="nav-text">获取触摸的属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#从plist中获取数据赋给字典"><span class="nav-number">3.0.8.</span> <span class="nav-text">从plist中获取数据赋给字典</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#NSUserDefaults注意事项"><span class="nav-number">3.0.9.</span> <span class="nav-text">NSUserDefaults注意事项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#获取Documents目录"><span class="nav-number">3.0.10.</span> <span class="nav-text">获取Documents目录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#获取tmp目录"><span class="nav-number">3.0.11.</span> <span class="nav-text">获取tmp目录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#利用Safari打开一个链接"><span class="nav-number">3.0.12.</span> <span class="nav-text">利用Safari打开一个链接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#利用UIWebView显示pdf文件，网页等等"><span class="nav-number">3.0.13.</span> <span class="nav-text">利用UIWebView显示pdf文件，网页等等</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UIWebView和html的简单交互"><span class="nav-number">3.0.14.</span> <span class="nav-text">UIWebView和html的简单交互</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#汉字转码"><span class="nav-number">3.0.15.</span> <span class="nav-text">汉字转码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#处理键盘通知"><span class="nav-number">3.0.16.</span> <span class="nav-text">处理键盘通知</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#点击键盘的next按钮，在不同的textField之间换行"><span class="nav-number">3.0.17.</span> <span class="nav-text">点击键盘的next按钮，在不同的textField之间换行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#设置日期格式"><span class="nav-number">3.0.18.</span> <span class="nav-text">设置日期格式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#加载大量图片的时候，可以使用"><span class="nav-number">3.0.19.</span> <span class="nav-text">加载大量图片的时候，可以使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#有时候在iPhone游戏中，既要播放背景音乐，同时又要播放比如枪的开火音效"><span class="nav-number">3.0.20.</span> <span class="nav-text">有时候在iPhone游戏中，既要播放背景音乐，同时又要播放比如枪的开火音效</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#从通讯录中读取电话号码，去掉数字之间的"><span class="nav-number">3.0.21.</span> <span class="nav-text">从通讯录中读取电话号码，去掉数字之间的-</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#正则判断：字符串只包含字母和数字"><span class="nav-number">3.0.22.</span> <span class="nav-text">正则判断：字符串只包含字母和数字</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#设置UITableView的滚动条颜色"><span class="nav-number">3.0.23.</span> <span class="nav-text">设置UITableView的滚动条颜色</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用NSURLConnection下载数据"><span class="nav-number">3.0.24.</span> <span class="nav-text">使用NSURLConnection下载数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#读取一般性文件"><span class="nav-number">3.0.25.</span> <span class="nav-text">读取一般性文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#调用电话，短信，邮件"><span class="nav-number">3.0.26.</span> <span class="nav-text">调用电话，短信，邮件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#获取版本信息"><span class="nav-number">3.0.27.</span> <span class="nav-text">获取版本信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UIWebView的使用"><span class="nav-number">3.0.28.</span> <span class="nav-text">UIWebView的使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#NSNotificationCenter带参数发送"><span class="nav-number">3.0.29.</span> <span class="nav-text">NSNotificationCenter带参数发送</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#延迟一段时间执行某个函数"><span class="nav-number">3.0.30.</span> <span class="nav-text">延迟一段时间执行某个函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#用NSDateFormatter调整时间格式代码"><span class="nav-number">3.0.31.</span> <span class="nav-text">用NSDateFormatter调整时间格式代码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#iPhone-更改键盘右下角按键的-type"><span class="nav-number">3.0.32.</span> <span class="nav-text">iPhone 更改键盘右下角按键的 type</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Feyddy</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"feyddy"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("", "");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.0"></script>



</body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>
